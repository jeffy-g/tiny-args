const boolMap={true:!0,false:!1},parseValue=v=>{const bool=boolMap[v];if(void 0!==bool)return bool;if(/^\[.+\]$/.test(v)||/^(?:re|r)?\/[^]+\/[dgimsuy]{0,7}$/.test(v))return/^(?:re|r)\//.test(v)&&(v=v.slice(v.indexOf("/"))),eval(v);if(/\\,/.test(v))return v.replace(/\\,/g,",");if(/,/.test(v))return v.split(",");{const e=+v;return Number.isFinite(e)?e:v}},tinArgs=(e,t=!1)=>{const s=process.argv;t&&console.log("process.argv: ",s);const r=(e=e||{}).prefix||"-",o=r.length,l=e.startIndex||2,i={};if(s.length>l)for(let e=l,t=s.length;e<t;){const t=s[e++];if(t)if(t.startsWith(r)){const l=t.slice(o),[,n=l,v]=/^([^:=]+)(?:[:=](.+))?$/.exec(l)||[];let a;v?a=parseValue(v):(a=s[e],void 0===a||a.startsWith(r)?a=!0:(a=parseValue(a),e++)),i[n]=a}else(i.args||(i.args=[])).push(t)}return i};module.exports=tinArgs;