const tinArgs=(acfg,dbg=!1)=>{dbg&&console.log("process.argv: ",process.argv),acfg=acfg||{};const pfix=acfg.prefix||"-",vIdx=pfix.length,eIdx=acfg.startIndex||2,pms={};if(process.argv.length>eIdx){const cArgs=process.argv;for(let idx=eIdx,argsLen=cArgs.length;idx<argsLen;){const optOrArg=cArgs[idx++];if(optOrArg)if(optOrArg.startsWith(pfix)){const fallback=optOrArg.slice(vIdx),[,paramName=fallback,bool]=/^([^:=]+)(?:[:=]{1}([^:=]+))?$/.exec(fallback)||[];if(bool){pms[paramName]=boolMap[bool];continue}let v=cArgs[idx];void 0===v||v.startsWith(pfix)?v=!0:(/^\[.+\]$/.test(v)||/^(?:re)?\/[^]+\/[dgimsuy]{0,7}$/.test(v)?(/^re\//.test(v)&&(v=v.substring(2)),v=eval(v)):/\\,/.test(v)?v=v.replace(/\\,/g,","):/,/.test(v)?v=v.split(","):/^(?:-?\.?\d+(?:\.\d*)?|0x[\da-f]+)$/i.test(v)&&(v=+v),idx++),pms[paramName]=v}else(pms.args||(pms.args=[])).push(optOrArg)}}return pms},boolMap={true:!0,false:!1};module.exports=tinArgs;